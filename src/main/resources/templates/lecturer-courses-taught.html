<!DOCTYPE html>
<html xmlns:th="http://www.w3.org/1999/xhtml">
<head>
    <title>Admin</title>
    <link rel="stylesheet" href="/css/list.css">

    <link rel="stylesheet" href="https://cdn.datatables.net/1.10.25/css/jquery.dataTables.min.css">


</head>
<body>
    <header>
        <div th:include="lecturer-home-page.html"></div>
    </header>
	<div class="container">
		<div class="row">
			<h1>Courses Taught</h1>


			<div class="mb-3">
				<label for="searchInput">Search:</label>
				<input type="text" class="form-control" id="searchInput" placeholder="Enter keywords" oninput="filterTable()">
			</div>

		</div>
		<table id="courseTable" class="table table-striped table-bordered table-smaller">
			<thead class="table-dark">
				<tr>
					<th>Id</th>
					<th>Course Name</th>
					<th>Number</th>
					<th>Description</th>
					<th>Duration</th>
					<th>Credits</th>
				</tr>
			</thead>
			<tbody>
				<tr th:each="course: ${courseList}">
					<td th:text="${course.courseId}"></td>
					<td th:text="${course.name}"></td>
					<td th:text="${course.courseNum}"></td>
					 <td th:text="${course.description}"></td>
					<td th:text="${course.duration}"> hours</td>
					<td th:text="${course.credits}"></td>
				</tr>
			</tbody>
		</table>
	</div>

    <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
    <script src="https://cdn.datatables.net/1.10.25/js/jquery.dataTables.min.js"></script>
    <script>
        $(document).ready(function() {
            $('#courseTable').DataTable({
                "lengthMenu": [10, 25, 50, 100],
                "pageLength": 10,
                "searching": false 
            });
        });

        function filterTable() {
           
            const searchInput = document.querySelector('#searchInput').value.toLowerCase();
            
            
            const courseRows = document.querySelectorAll('#courseTable tbody tr');
            
           
            courseRows.forEach(function(row) {
               
                const courseId = row.cells[0].textContent.toLowerCase();
                const courseName = row.cells[1].textContent.toLowerCase();
                const courseNumber = row.cells[2].textContent.toLowerCase();
                const description = row.cells[3].textContent.toLowerCase();
                const duration = row.cells[4].textContent.toLowerCase();
                const credits = row.cells[5].textContent.toLowerCase();
                
                
                if (
                    courseId.includes(searchInput) ||
                    courseName.includes(searchInput) ||
                    courseNumber.includes(searchInput) ||
                    description.includes(searchInput) ||
                    duration.includes(searchInput) ||
                    credits.includes(searchInput)
                ) {
                    row.style.display = '';
                } else {
                    row.style.display = 'none';
                }
            });
        }
    </script>
</body>
</html>
